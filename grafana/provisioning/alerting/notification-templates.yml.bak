apiVersion: 1

templates:
  - name: default
    template: |
      {{ define "default.title" }}
      [{{ .Status }}] {{ .CommonLabels.alertname }}
      {{ end }}

      {{ define "default.message" }}
      {{ if gt (len .Alerts.Firing) 0 }}
      Alerts Firing:
      {{ template "default.message.firing" .Alerts.Firing }}
      {{ end }}
      {{ if gt (len .Alerts.Resolved) 0 }}
      Alerts Resolved:
      {{ template "default.message.resolved" .Alerts.Resolved }}
      {{ end }}
      {{ end }}

      {{ define "default.message.firing" }}
      {{ range . }}
      - {{ .Labels.alertname }}: {{ .Annotations.summary }}
      {{ end }}
      {{ end }}

      {{ define "default.message.resolved" }}
      {{ range . }}
      - {{ .Labels.alertname }}: {{ .Annotations.summary }}
      {{ end }}
      {{ end }} 